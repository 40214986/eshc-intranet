{% extends 'base.html' %}

{% load staticfiles %}
{% load static %}
{% load waliki_tags %}

{% block viewport %}{% endblock %}

{% block head_title_base %}
	{% if page and page.title %} 
		{{ page.title }} | 
	{% endif %}
		{{ SITE_NAME|default:'ESHC Wiki' }}
{% endblock %}

{% block style_base %}
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css">
	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<!-- Latest compiled JavaScript -->
	<!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>  -->
	<link rel="stylesheet" type="text/css" href="{% static 'waliki/css/waliki.css'%}">
	{% block extra_style %}{% endblock %}
{% endblock %}

{% block html5shim %}
<!-- HTML5 shim, for IE6-8 support of HTML elements -->
<!--[if lt IE 9]>
<script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
<![endif]-->
{% endblock %}

{% block extra_head_base %}
	{% block extra_head %}{% endblock %}
{% endblock %}

{% block navbar %}
	<li><a href="{% url 'waliki_home' %}">Wiki Home</a></li>
	{% navbar_links %}
{% endblock %}

{% block messages %}
	{% include "_messages.html" %}
{% endblock messages %}

{% block body %}
<div class="row">
	<div class="col-lg-offset-1 col-sm-12 col-md-10">
		{% if page %}
		<div class="page-header">
		{% block header %}
			 <h1>{% block title %}{{ page.title }}{% endblock title %}</h1>
		{% endblock header %}
		</div>
		{% endif %}

	 {% block content %}
	 {% endblock content %}

	{% block extra_content %}{% endblock extra_content %}
	</div>
</div>
{% endblock body%}

{% block footer %}{{ block.super }}{% endblock %}

{% block script_base %}
	<script type="text/javascript" src="{% static "waliki/js/jquery.min.js" %}"></script>
	<script type="text/javascript">
		function csrfSafeMethod(method) {
		// these HTTP methods do not require CSRF protection
			return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
		}
		$.ajaxSetup({
			beforeSend: function(xhr, settings) {
				if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
					xhr.setRequestHeader("X-CSRFToken", '{{ csrf_token }}');
				}
			}
		});

	</script>
	<script src="{% static 'waliki/js/bootstrap.min.js'%}"></script>
	<script src="{% static 'waliki/js/waliki_base.js'%}"></script>

	{% block extra_script %}{% endblock %}
{% endblock %}

{% block extra_body_base %}
	{% block extra_body %}{% endblock %}
{% endblock %}
